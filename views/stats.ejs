<!-- stats.ejs -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stats</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Raleway:wght@600;800&display=swap" rel="stylesheet"> 

    <!-- Icon Font Stylesheet -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">


    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style2.css" rel="stylesheet">
    <style>
        body {
      background: url('/uploads/white.gif') center/cover fixed no-repeat;
      font-family: 'Open Sans', sans-serif;
    }
    </style>


</head>
<body bgcolor="black">

    <nav class="navbar navbar-expand-md bg-primary navbar-dark" style="">
        <div class="container"> <a class="navbar-brand" href="#">
          <img src="\uploads\myarogya.png" height="105px">
            
          </a> <button class="navbar-toggler navbar-toggler-right border-0" type="button" data-toggle="collapse" data-target="#navbar16">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbar16">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item"> <a class="nav-link" href="\home">HOME</a> </li>
              <li class="nav-item"> <a class="nav-link" href="\workout2">WORKOUT</a> </li>
              <li class="nav-item"> <a class="nav-link" href="\diet">DIET</a> </li>
              <li class="nav-item"> <a class="nav-link" href="\stats">STATS</a> </li>
              <li class="nav-item"> <a class="nav-link" href="\profile">PROFILE</a> </li>
              <li class="nav-item"> <a class="nav-link" href="\aboutus">ABOUT US</a> </li>
              <li class="nav-item"> <a class="nav-link" href="\login">LOG OUT</a> </li>
            </ul>
          </div>
          <span style="color: white;font-weight: bolder;"><%= user.username %></span>
        </div>
        
      </nav>


    <center>
        <br>
        <h1>Here is your report <%= user.username %></h1>
        <br>
    <!-- Diet Chart -->
    <div style="width: 50%;padding: 2%;box-shadow: 0 0 15px rgba(0, 0, 0, 0.8);" class="card text-center" >
        <h1>Weight Stats</h1>
        <p>Your weight on each day is shown here. Know whether you are improving or not. </p>
        <canvas id="weightChart"></canvas>
    </div>
    <br><br>
    <div style="width: 50%;padding: 2%;box-shadow: 0 0 15px rgba(0, 0, 0, 0.8);" class="card text-center" >
        <h1>Diet Stats</h1>
        <p>The amount of calories you have consumed on each day is displayed here.  </p>
        <canvas id="dietChart"></canvas>
    </div>
    <br><br>
    
    <!-- Workout Chart -->
    <div style="width: 50%;padding: 2%;box-shadow: 0 0 15px rgba(0, 0, 0, 0.8);" class="card text-center" >
        <h1>Workout Stats</h1>
        <p>The number of workout you have performed each day is shown here. </p>
        <canvas id="workoutChart"></canvas>
    </div>
    <br><br>
    
    <div class="py-3">
        <div class="container">
          <div class="row">
            <div class="py-3">
              <div class="container">
                <div class="row">
                  
                  <div class="col-lg-3 col-6 p-3">
                    <h5> <b>Features</b> </h5>
                    <ul class="list-unstyled">
                      <li> <a href="/workout2">Workout</a> </li>
                      <li> <a href="/diet">Diet</a> </li>
                      <li> <a href="/stats">Stat</a> </li>
                    </ul>
                  </div>
                  <div class="col-lg-3 col-md-6 p-3">
                    <h5> <b>About</b> </h5>
                    <p class="mb-0"> South Indian fitness App with diet, workout and statistic report.</p>
                  </div>
                  
                <div class="row">
                  <div class="col-md-12 text-center">
                    <p class="mb-0 mt-2">© 23MX</p>
                  </div>
                </div>
              </div>
            </div>
            
          <div class="row">
            <div class="col-md-12 text-center">
              <p class="mb-0 mt-2">© 23MX PSG TECH</p>
            </div>
          </div>
        </div>
      </div>
    </center>
    

    <script>
        // Diet Chart
        


        // Workout Chart


        

    var dietData = {
            labels: [<%= dietData.map(entry => entry.day) %>],
            datasets: [{
                label: 'Calories Consumed',
                data: [<%= dietData.map(entry => entry.calories) %>],
                borderColor: '#81C408',
                backgroundColor:'rgba(129, 196, 8, 0.2)',
                borderWidth: 1,
                fill: true
            }]
        };

        var dietChart = new Chart(document.getElementById('dietChart'), {
            type: 'line',
            data: dietData
        });

        var weightData = {
            labels: [<%= weightData.map(entry => entry.day) %>],
            datasets: [{
                label: 'Weight ',
                data: [<%= weightData.map(entry => entry.weight) %>],
                borderColor: '#81C408',
                backgroundColor:'rgba(129, 196, 8, 0.2)',
                borderWidth: 1,
                fill: true
            }]
        };

        var weightChart = new Chart(document.getElementById('weightChart'), {
            type: 'line',
            data: weightData
        });

        


    // Workout Chart
    var workoutData = {
        labels: [<%= workoutData.map(entry => entry.day) %>],
        datasets: [{
            label: 'Workouts Done',
            data: [<%= workoutData.map(entry => entry.noWork) %>],
            borderColor: '#81C408',
            backgroundColor:'rgba(129, 196, 8, 0.2)',
            borderWidth: 1,
            fill: true
        }]
    };

        var workoutChart = new Chart(document.getElementById('workoutChart'), {
            type: 'line',
            data: workoutData
        });
    </script>
</body>
</html>
